{"version":3,"file":"blacklight_range_limit.esm.js","sources":["../../../javascript/blacklight_range_limit/range_limit_distro_facets.js","../../../javascript/blacklight_range_limit/range_limit_slider.js","../../../javascript/blacklight_range_limit/index.js"],"sourcesContent":["// for Blacklight.onLoad:\n\n/**\n * Closure functions in this file are mainly concerned with initializing, resizing, and updating\n * range limit functionality based off of page load, facet opening, page resizing, and otherwise\n * events.\n */\n\nconst RangeLimitDistroFacet = {\n  initialize: function(modalSelector) {\n    // Facets already on the page? Turn em into a chart.\n    $(\".range_limit .profile .distribution.chart_js ul\").each(function() {\n        BlacklightRangeLimit.turnIntoPlot($(this).parent());\n    });\n\n    BlacklightRangeLimit.checkForNeededFacetsToFetch();\n\n    // Listen for twitter bootstrap collapsible open events, to render flot\n    // in previously hidden divs on open, if needed.\n    $(\"body\").on(\"show.bs.collapse\", function(event) {\n      // Was the target a .facet-content including a .chart-js?\n      var container =  $(event.target).filter(\".facet-content\").find(\".chart_js\");\n\n      // only if it doesn't already have a canvas, it isn't already drawn\n      if (container && container.find(\"canvas\").length == 0) {\n        // be willing to wait up to 1100ms for container to\n        // have width -- right away on show.bs is too soon, but\n        // shown.bs is later than we want, we want to start rendering\n        // while animation is still in progress.\n        BlacklightRangeLimit.turnIntoPlot(container, 1100);\n      }\n    });\n\n    // When loaded in a modal\n    $(modalSelector).on('shown.bs.modal', function() {\n      $(this).find(\".range_limit .profile .distribution.chart_js ul\").each(function() {\n        BlacklightRangeLimit.turnIntoPlot($(this).parent());\n      });\n\n      // Case when there is no currently selected range\n      BlacklightRangeLimit.checkForNeededFacetsToFetch();\n    });\n\n    $(\"body\").on(\"shown.bs.collapse\", function(event) {\n      var container =  $(event.target).filter(\".facet-content\").find(\".chart_js\");\n      BlacklightRangeLimit.redrawPlot(container);\n    });\n\n    // debouce borrowed from underscore\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds. If `immediate` is passed, trigger the function on the\n    // leading edge, instead of the trailing.\n    const debounce = function(func, wait, immediate) {\n      var timeout;\n      return function() {\n        var context = this, args = arguments;\n        var later = function() {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    };\n\n    $(window).on(\"resize\", debounce(function() {\n      $(\".chart_js\").each(function(i, container) {\n        BlacklightRangeLimit.redrawPlot($(container));\n      });\n    }, 350));\n  }\n}\n\nexport default RangeLimitDistroFacet;","// for Blacklight.onLoad:\n\nconst RangeLimitSlider = {\n  initialize: function(modalSelector) {\n    $(\".range_limit .profile .range.slider_js\").each(function() {\n      BlacklightRangeLimit.buildSlider(this);\n    });\n\n    // For Blacklight < 8, when loaded in a modal\n    $(modalSelector).on('shown.bs.modal', function() {\n      $(this).find(\".range_limit .profile .range.slider_js\").each(function() {\n        BlacklightRangeLimit.buildSlider(this);\n      });\n    });\n\n    // For Blacklight 8, use a mutation observer to detect when the HTML dialog is open\n    BlacklightRangeLimit.initSliderModalObserver();\n\n    // catch event for redrawing chart, to redraw slider to match width\n    $(\"body\").on(\"plotDrawn.blacklight.rangeLimit\", function(event) {\n      var area       = $(event.target).closest(\".limit_content.range_limit\");\n      var plot       = area.find(\".chart_js\").data(\"plot\");\n      var slider_el  = area.find(\".slider\");\n\n      if (plot && slider_el) {\n        slider_el.width(plot.width());\n        slider_el.css(\"display\", \"block\")\n      }\n    });\n  }\n}\n\n// returns two element array min/max as numbers. If there is a limit applied,\n// it's boundaries are are limits. Otherwise, min/max in current result\n// set as sniffed from HTML. Pass in a DOM element for a div.range\n// Will return NaN as min or max in case of error or other weirdness.\nBlacklightRangeLimit.min_max = function min_max(range_element) {\n  var current_limit =  $(range_element).closest(\".limit_content.range_limit\").find(\".current\")\n  let min, max\n  min = max = BlacklightRangeLimit.parseNum(current_limit.find(\".single\").data('blrlSingle'))\n  if ( isNaN(min)) {\n    min = BlacklightRangeLimit.parseNum(current_limit.find(\".from\").first().data('blrlBegin'));\n    max = BlacklightRangeLimit.parseNum(current_limit.find(\".to\").first().data('blrlEnd'));\n  }\n\n  if (isNaN(min) || isNaN(max)) {\n    //no current limit, take from results min max included in spans\n    min = BlacklightRangeLimit.parseNum($(range_element).find(\".min\").first().text());\n    max = BlacklightRangeLimit.parseNum($(range_element).find(\".max\").first().text());\n  }\n  return [min, max]\n}\n\n\n// Check to see if a value is an Integer\n// see: http://stackoverflow.com/questions/3885817/how-to-check-if-a-number-is-float-or-integer\nBlacklightRangeLimit.isInt = function isInt(n) {\n  return n % 1 === 0;\n}\n\nBlacklightRangeLimit.buildSlider = function buildSlider(thisContext) {\n    var range_element = $(thisContext);\n\n    var boundaries = BlacklightRangeLimit.min_max(thisContext);\n    var min = boundaries[0];\n    var max = boundaries[1];\n\n    if (BlacklightRangeLimit.isInt(min) && BlacklightRangeLimit.isInt(max)) {\n      $(thisContext).contents().wrapAll('<div class=\"sr-only visually-hidden\" />');\n\n      var range_element = $(thisContext);\n      var form = $(range_element).closest(\".range_limit\").find(\"form.range_limit\");\n      var begin_el = form.find(\"input.range_begin\");\n      var end_el = form.find(\"input.range_end\");\n\n      var placeholder_input = $('<input type=\"hidden\" data-slider-placeholder=\"true\" />').appendTo(range_element);\n\n      // make sure slider is loaded\n      if (placeholder_input.slider !== undefined) {\n        placeholder_input.slider({\n          min: min,\n          max: max,\n          value: [min, max],\n          tooltip: \"hide\"\n        });\n\n        // try to make slider width/orientation match chart's\n        var container = range_element.closest(\".range_limit\");\n        var plot_el = container.find(\".chart_js\");\n        var plot = plot_el.data(\"plot\");\n        var slider_el = container.find(\".slider\");\n\n        if (plot_el) {\n          plot_el.attr('aria-hidden', 'true');\n        }\n\n        if (slider_el) {\n          slider_el.attr('aria-hidden', 'true');\n        }\n\n        if (plot && slider_el) {\n          slider_el.width(plot.width());\n          slider_el.css(\"display\", \"block\")\n        } else if (slider_el) {\n          slider_el.css(\"width\", \"100%\");\n        }\n      }\n\n      // Slider change should update text input values.\n      var parent = $(thisContext).parent();\n      var form = $(parent).closest(\".limit_content\").find(\"form.range_limit\");\n      $(parent).closest(\".limit_content\").find(\".profile .range\").on(\"slide\", function(event, ui) {\n        var values = $(event.target).data(\"slider\").getValue();\n        form.find(\"input.range_begin\").val(values[0]);\n        form.find(\"input.range_end\").val(values[1]);\n      });\n    }\n\n    begin_el.val(min);\n    end_el.val(max);\n\n    begin_el.on('input', function() {\n      var val = BlacklightRangeLimit.parseNum(this.value);\n      if (isNaN(val) || val < min) {\n        //for weird data, set slider at min\n        val = min;\n      }\n      var values = placeholder_input.data(\"slider\").getValue();\n      values[0] = val;\n      placeholder_input.slider(\"setValue\", values);\n    });\n\n    end_el.on('input', function() {\n      var val = BlacklightRangeLimit.parseNum(this.value);\n      if (isNaN(val) || val > max) {\n        //weird entry, set slider to max\n        val = max;\n      }\n      var values = placeholder_input.data(\"slider\").getValue();\n      values[1] = val;\n      placeholder_input.slider(\"setValue\", values);\n    });\n\n    begin_el.change(function() {\n      var val1 = BlacklightRangeLimit.parseNum(begin_el.val());\n      var val2 = BlacklightRangeLimit.parseNum(end_el.val());\n\n      if (val2 < val1) {\n        begin_el.val(val2);\n        end_el.val(val1);\n      }\n    });\n\n    end_el.change(function() {\n      var val1 = BlacklightRangeLimit.parseNum(begin_el.val());\n      var val2 = BlacklightRangeLimit.parseNum(end_el.val());\n\n      if (val2 < val1) {\n        begin_el.val(val2);\n        end_el.val(val1);\n      }\n    });\n  }\n\nexport default RangeLimitSlider;","import RangeLimitDistroFacet from 'range_limit_distro_facets';\nimport RangeLimitSlider from 'range_limit_slider';\n\nBlacklightRangeLimit.initialize = function() {\n  // Support for Blacklight 7 and 8:\n  const modalSelector = Blacklight.modal?.modalSelector || Blacklight.Modal.modalSelector \n\n  RangeLimitDistroFacet.initialize(modalSelector)\n  RangeLimitSlider.initialize(modalSelector)\n}\n\nexport default BlacklightRangeLimit"],"names":[],"mappings":"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"}